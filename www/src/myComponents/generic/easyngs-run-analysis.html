<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../generic/easyngs-form-sample-selection.html">
<link rel="import" href="../generic/easyngs-basic-form.html">
<link rel="import" href="../generic/easyngs-form-button-sendjob.html">
<link rel="import" href="../generic/easyngs-view-title.html">
<link rel="import" href="../generic/easyngs-form-select-software.html">
<link rel="import" href="../generic/easyngs-sample-selection.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">

<dom-module id="easyngs-run-analysis">
    <style>
        .left {
            width: 50%;
            padding-top: 30px;
            height: 400px;
        }
        .right {
            padding-top: 30px;
            padding-right: 50px;
            padding-left: 20px;
            min-width: 300px;
            max-width: 800px;
            height: 400px;
        }
        .paper-header {
            background: var(--dark-primary-color);
            color: var(--text-primary-color);
            height: 30px;
            font-size: 20px;
            font-weight: 200;
            text-align: center;
        }
        .send-bar {
            margin-top: 50px;
            margin-left: 44px;
        }

    </style>
    <template>
        <easyngs-view-title title="{{title}}" subtitle="{{getName(program)}}"></easyngs-view-title>
        <div class="layout horizontal center wrap">
            <div class="left">
                <easyngs-sample-selection projects="{{projects}}"></easyngs-sample-selection>
            </div>
            <div class="flex right">
                <div class="paper-header">Set the parameters</div>
                <paper-card style="width:100%; height: 100%; overflow-y: auto;">
                    <div style="margin-left: 10px; margin-right: 10px;">
                        <easyngs-form-select-software software="{{software}}" selected-item="{{program}}"></easyngs-form-select-software>
                        <easyngs-basic-form program="{{program}}" projects="{{projects}}"></easyngs-basic-form>
                    </div>
                </paper-card>
            </div>
        </div>
        <div class="send-bar">
            <easyngs-form-button-sendjob></easyngs-form-button-sendjob>
        </div>
    </template>
    <script>
        Polymer({
            is: "easyngs-run-analysis",
            properties: {
                title: String,
                software: Array,
                projects: {
                    type: Array,
                    notify: true
                }
            },
            ready: function () {
                title = this.title;
            },
            getName: function(item) {
                return item.name;
            },
            getTitle: function() {
                return this.title;
            }
        });
    </script>
</dom-module>