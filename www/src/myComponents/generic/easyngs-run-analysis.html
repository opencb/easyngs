<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../generic/easyngs-form-sample-selection.html">
<link rel="import" href="easyngs-tool-form.html">
<link rel="import" href="easyngs-form-button-sendjob.html">
<link rel="import" href="easyngs-view-title.html">
<link rel="import" href="easyngs-form-select-software.html">
<link rel="import" href="easyngs-sample-selection.html">
<link rel="import" href="easyngs-basic-panel.html">


<dom-module id="easyngs-run-analysis">
    <style>
        .left {
            width: 50%;
            padding-top: 30px;
            height: 400px;
        }
        .right {
            padding-top: 30px;
            padding-right: 50px;
            padding-left: 20px;
            min-width: 300px;
            max-width: 800px;
            height: 400px;
        }
        .send-bar {
            margin-top: 50px;
            margin-left: 44px;
        }

    </style>
    <template>
        <easyngs-view-title title="{{title}}" subtitle="{{program.name}}"></easyngs-view-title>
        <div class="layout horizontal center wrap">
            <div class="left">
                <easyngs-sample-selection projects="{{projects}}"></easyngs-sample-selection>
            </div>
            <div class="flex right">
                <easyngs-basic-panel title="Set the parameters">
                    <easyngs-form-select-software software="{{software}}" selected-tool="{{program}}" selected-execution="{{execution}}"></easyngs-form-select-software>
                    <easyngs-tool-form program="{{execution}}" projects="{{projects}}"></easyngs-tool-form>
                    <paper-button raised>
                        <iron-icon icon="send"></iron-icon>
                        Store default values
                    </paper-button>
                </easyngs-basic-panel>
            </div>
        </div>
        <div class="send-bar">
            <easyngs-form-button-sendjob></easyngs-form-button-sendjob>
        </div>
    </template>
    <script>
        Polymer({
            is: "easyngs-run-analysis",
            properties: {
                title: String,
                software: Array,
                projects: {
                    type: Array,
                    notify: true
                },
                program: {
                    type: Object
                },
                execution: {
                    type: Object
                }
            },
            ready: function () {
                title = this.title;
            },
            getTitle: function() {
                return this.title;
            }
        });
    </script>
</dom-module>